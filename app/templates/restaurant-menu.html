<ion-view ng-controller='RestaurantMenuCtrl'  title="{{ 'restaurantMenu' | translate }}" ge-hide-tabs hide-back-button="true">


<ion-nav-buttons side="right">
<button class="button button-clear ion-ios7-cart-outline right-header-bar-icon" ui-sref="cart">
</button>
</ion-nav-buttons>

<ion-nav-buttons side="left">
<button class="button button-clear ion-ios7-arrow-back" ge-touch="onLeaveRestaurantTouch()"> Retour
</button>
</ion-nav-buttons>

<ion-content has-header="true">

<ion-list>


<div ng-repeat="product in pizzas">
  <ion-item ng-click="toggleDetails(product)" ng-class="{active: isDetailsShown(product)}" >
  <div class="border-less" ng-class="isDetailsShown(product)">
      <b> {{ product.name }} </b>
      <p> {{ product.description }} </p>
  </div>
</ion-item> 

<ion-item ng-repeat="format in product.formats" ng-show="isDetailsShown(product)">
<div class="row border-less">
  <div class="col col-60 border-less">
    {{ format.size }} ({{ format.price }} €)
  </div>
  <div class="col col-10 ">
    <a class="ion-ios7-minus-outline assertive icon-cart-add-delete align-right" ng-class="changeProductToShowValue(product, format.id)" ge-touch="onProductDelete(product, format.id)"></a>
  </div>
  <div class="col col-10">
    <a class="center"> {{ productToShowValue }} </a>
  </div>
  <div class="col col-10 ">
    <a class="icon ion-ios7-plus-outline assertive icon-cart-add-delete" ge-touch="onProductAdd(product, format)"></a>
  </div>
  <div class="col col-10 ">
  </div>
</div>
</ion-item>
</div>
</ion-list>


</ion-content>

<ion-footer-bar class="bar-energized ">
    <div class="row border-less">
        <div class="col col-25">
        <i class="icon ion-ios7-cart-outline right-footer-bar-icon"></i>  {{ cart.cartTotalPrice }}€
        </div>
        <div class="col col-25">
          <i> {{ cart.cartTotalQuantity }} Pizza </i>
        </div>
    </div>
 </ion-footer-bar>

</ion-view>
