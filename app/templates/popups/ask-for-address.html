<md-dialog class="dialog-size">

	<md-content>
			<h3 class="title-margin">{{ 'deliveryAddress' | translate }}</h3>

	<md-radio-group flex="20" ng-model="addressTypeSelected.value" ng-repeat="addressType in addressTypes" ng-init="addressTypeSelected.value=addressTypes[0].value" ng-change="resetDeliveryAddress()">
        <md-radio-button ng-value="addressType.value" class="first-radio-button">
        	{{ addressType.label }}
        </md-radio-button>

        <div ng-show="addressType.value=='enterAddress'">
        	<md-select ng-disabled="addressTypeSelected.value!='enterAddress'" ng-model="deliveryAddress.value" placeholder="{{ 'residency' | translate }}" class="full-width select-content-item">
				<md-option ng-value="res" ng-repeat="res in residencies">{{ res | translate }}</md-option>
			</md-select>

			<md-input-container class="no-validation-messages" flex>
				<label>
					<i class="icon ion-ios7-home-outline"> {{ 'addressSupplement' | translate }}</i>
				</label>
				<input ng-disabled="addressTypeSelected.value!='enterAddress'" ng-model="addressSupplement.value" name="addressSupplement">
			</md-input-container>
        </div>

        <div ng-show="addressType.value=='predefinedAddress'">
        	<md-select ng-disabled="addressTypeSelected.value!='predefinedAddress'" class="full-width select-content-item" ng-model="predefinedDeliveryAddress.value" placeholder="Lieux communs">
    			<md-option ng-value="place.details" ng-repeat="place in predefinedAddresses">{{ place.details }}</md-option>
  			</md-select>
        </div>
        <div ng-hide="addressType.value=='predefinedAddress'" class="line-divider">
  			<span class="text-divider">
    			 &nbsp OU &nbsp 
  			</span>
		</div>
		<div ng-show="addressType.value=='predefinedAddress'" class="end-line-divider">
  			
		</div>
        <!-- <md-divider></md-divider> -->
    </md-radio-group>
    


<!-- 
		<md-item>
			<md-item-content>
				<md-radio-button ng-value="addressType[0].value" class="first-radio-button">
					{{ addressType[0].label }}
        		</md-radio-button>
			</md-item-content>
			<md-item-content >
				<md-radio-button ng-value="addressType[1].value" class="first-radio-button">
					{{ addressType[1].label }}
        		</md-radio-button>
			</md-item-content>

			<md-select ng-model="deliveryAddress" class="full-width select-content-item" name="residency" placeholder="{{ 'residency' | translate }}">
				<md-select-label class="select-label">
					<i class="icon ion-ios7-location-outline placeholder-icon"> </i>{{ deliveryAddress | translate }}
				</md-select-label>
				<md-option ng-value="res" ng-repeat="res in residencies">{{ res | translate }}</md-option>
			</md-select>

			<md-input-container class="no-validation-messages" flex>
				<label>
					<i class="icon ion-ios7-home-outline"> {{ 'addressSupplement' | translate }}</i>
				</label>
				<input ng-model="addressSupplement" name="addressSupplement" type="text">
			</md-input-container>

		<md-divider></md-divider>
		</md-item>

		<md-item>
			<md-item-content >
				<md-radio-button ng-value="addressType[2].value" class="first-radio-button">
					{{ addressType[2].label }}
        		</md-radio-button>
        	</md-item-content>	
			<md-item-content class="select-content-real-item">
				<md-select class="full-width select-content-item" ng-model="deliveryAddress" placeholder="Lieux communs">
    				<md-option ng-value="place.details" ng-repeat="place in predefinedAddresses.data">{{ place.details }}</md-option>
  				</md-select>
			</md-item-content>
		
			<md-divider class="divider-margin"></md-divider>
		</md-item>
		</md-radio-group>


<- - - - - - - - - - - - - - RESULTS -> WHERE CUSTOMER WILL BE DELIVERED - - - - - - - - -->

		<md-item>
			<md-item-content>
				<div> <b>Vous serez livré au : </b></div>
			</md-item-content>

			<div ng-show="addressTypeSelected.value=='myAddress'">
				<div ng-show="hasPredefinedPersonalAddress">
					{{ userAddress.street || "loading..."}} <br />
					{{ userAddress.details || "" }}
				</div>
				<div ng-hide="hasPredefinedPersonalAddress">
					{{ "Vous n'avez pas d'adresse perso enregistrée." }}
				</div>
			</div>

			<div ng-show="addressTypeSelected.value=='enterAddress'">
				{{ deliveryAddress.value || "select residence" }} <br/>
				{{ addressSupplement.value || "enter details"}}

			</div>

			<div ng-show="addressTypeSelected.value=='predefinedAddress'">
				{{ predefinedDeliveryAddress.value || "Selectionnez un lieu commun"}}
			</div>

		</md-item>
 
	</md-content>

	<div class="md-actions">
		<md-button ng-click="closeAskForAddressDialog(true)">
			{{ 'cancel' | translate }}
		</md-button>
		<md-button class="md-primary" ng-click="closeAskForAddressDialog(false)" > <!-- ng disabled to improve ?? -> check before user confirmation, kinf of pre-validation.... not ininteresting -->
			{{ 'ok' | translate }}
		</md-button>
	</div>

</md-dialog>


<!-- KEEP IT !! FORWARD GEOCODING FOR CALZONE !!

			<md-input-container class="container-margin" ng-hide="predefinedPersonalAddressSelected">
          		<input ng-autocomplete ng-model="newDeliveryAddress" details="newAddressFormatted">
        	</md-input-container>
        	<md-input-container class="container-margin" ng-hide="predefinedPersonalAddressSelected">
        		<label>Details (Bâtiment, étage,...)</label>
          		<input ng-model="newAddressDetails">
        	</md-input-container>
 -->   