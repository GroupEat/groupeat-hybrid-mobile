<ion-view ng-controller="CartCtrl" title="{{ 'yourCart' | translate }}" ge-hide-tabs>

	<ion-nav-buttons side="right">
    	<button class="button button-clear ion-ios7-compose-outline" on-touch="data.showDeleteItem = !data.showDeleteItem">
    	</button>
  	</ion-nav-buttons>
	
	<ion-nav-buttons side="left">
  		<ion-nav-back-button class='button button-clear'>
          {{ 'back' | translate }}
    	</ion-nav-back-button>
    </ion-nav-buttons>

  	<ion-content has-header="true">

  	<ion-list show-delete="data.showDeleteItem">
  		<ion-item ng-repeat="item in cart" on-swipe-right="data.showDeleteItem = true" on-swipe-left="data.showDeleteItem = false">
  			<div class="row border-less">
	  			
	  			<div class="col col-60">
	  				<b>{{item.name}}</b>
	  			</div>
	  			<div class="col col-10">
	  				<h2 >{{item.number}}</h2>
	  			</div>
	  			<div class="col col-10">
	  				{{item.size}}
	  			</div>
	  			<div class="col col-10">
	  				{{item.price*item.number}}€
	  			</div>
	  			<div class="col col-10">
	  			</div>
			</div>
  	
			<ion-delete-button class="ion-ios7-trash-outline"
			ng-click="onItemDelete($index)"> <!-- backend request to do here ! -->
			</ion-delete-button>

		</ion-item>
	</ion-list>

	<ion-list>
  		<ion-item>
  			<div ng-hide="isCartEmpty" class="border-less center">
	  			<b>{{ 'Total' | translate}} :</b> &nbsp{{cartTotalNumber}} pizzas, {{cartTotalPrice}}€.  
			</div>
			<div ng-show="isCartEmpty" class="border-less center">
	  			<b> {{'emptyCart' | translate}} </b>  
			</div>

  		</ion-item>
  	</ion-list>

	<button ng-hide="isCartEmpty" id="confirmCommandButton" class="button button-assertive button-outline button-center " on-touch="onConfirmCommandTouch()">
		{{ 'confirmCommand' | translate}}
	</button>
	</ion-content>

	<ion-footer-bar align-title="left" class="bar-energized ">
	 	<div class="row border-less">
	  		<div class="col col-offset-80">
				<i ng-init="cartTotalPrice=0; cartTotalNumber=0" class="icon ion-ios7-cart-outline"> {{cartTotalPrice}}€</i>
			</div>
		</div>
	</ion-footer-bar>

</ion-view>

