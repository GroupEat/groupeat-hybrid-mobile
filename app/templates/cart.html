<ion-view ng-controller="CartCtrl" title="{{ 'yourCart' | translate }}" ge-hide-tabs>

<!-- - - - - - - - - - - -  CART NOT EMPTY :  - - - - - - - - - - - - -->

	<ion-nav-buttons side="right">
    	<button ng-hide="isCartEmpty" class="button button-clear ion-ios7-checkmark-empty right-header-bar-icon" on-tap="onConfirmOrderTouch()">
    	</button>
  	</ion-nav-buttons>

	<ion-content has-header="true" ng-hide="isCartEmpty">

	  	<ion-list>

	  		<div class="item item-divider">
	  			<div class="row border-less">
			  			<div class="col col-80 center">
			  				<b>{{ 'Description' | translate }}</b>
			  			</div>
			  			<div class="col col-20">
			  				{{ 'Price' | translate }}
			  			</div>
			  			<div class="col col-10">
			  			</div>
				</div>
  			</div>

  			<div ng-repeat="product in cart.productsItems">
		  		<ion-item>
		  			<div class="row border-less">
				  			<div class="col col-80 border-less">
				  				<b>{{ product.name }}</b>
				  				<p ng-show="formats.quantity" ng-repeat="formats in product.formats" class="border-less">{{ formats.quantity }} {{ formats.name }}
				  				 </p>
				  			</div>

				  			<div class="col col-10">
				  				{{ product.totalPrice | number : 2}}€
				  			</div>
				  			<div class="col col-10">
				  			</div>
					</div>

				</ion-item>
	        </div>
		</ion-list>

		<ion-list>
	  		<ion-item>
	  			<div class="center">
		  			<b>{{ 'Total' | translate }} :&nbsp</b> <ng-pluralize count="cart.cartTotalQuantity" when="{'0': ' 0 Pizza', '1': ' 1 Pizza', 'other': '{{ cart.cartTotalQuantity }} Pizzas'}" ></ng-pluralize>, {{ cart.cartTotalPrice | number : 2}}€.  <a ng-show="currentOrder.groupOrderId">&nbsp Au lieu de {{ cart.cartTotalPrice/((100-currentOrder.currentDiscount)/100) | number : 2}} € </a>
				</div>
	  		</ion-item>
	  	</ion-list>

	  	<h5 ng-hide="currentOrder.groupOrderId" class="login-text-first-page add-horizontal-margin no-bottom-margin">
	  	 {{ 'howLongFoodRush' | translate }} <a class="energized">Food</a><a class="assertive">Rush</a> ?
	  	</h5>

	  	<div ng-hide="currentOrder.groupOrderId" class="row border-less">
		  		<div class="col col-20">
		  			<a class="center">
		  				<md-checkbox ng-model="FoodRushTime" class="no-border" ng-true-value="5"></md-checkbox>
		  				<!-- <ion-checkbox class=" checkbox-assertive" ng-model="FoodRushTime" ng-true-value="5"></ion-checkbox> -->
		  			</a>
		  			<h5 class="border-less center">5 {{ 'min' | translate }}  &nbsp &nbsp  </h5>
		  		</div>
		  		<div class="col col-20">
		  			<a class="center">
		  				<md-checkbox ng-model="FoodRushTime" class="no-border" ng-true-value="10"></md-checkbox>
		  			</a>
		  			<h5 class="border-less center">10 {{ 'min' | translate }} &nbsp &nbsp  </h5>
		  		</div>
		  		<div class="col col-20">
		  			<a class="center">
		  				<md-checkbox ng-model="FoodRushTime" class="no-border" ng-true-value="15"></md-checkbox>
		  			</a>
		  			<h5 class="border-less center">15 {{ 'min' | translate }} &nbsp &nbsp  </h5>
		  		</div>
		  		<div class="col col-20">
		  			<a class="center">
		  				<md-checkbox ng-model="FoodRushTime" class="no-border" ng-true-value="30"></md-checkbox>
		  			</a>
		  			<h5 class="border-less center"> 30 {{ 'min' | translate }} &nbsp &nbsp  </h5>
		  		</div>
		  		<div class="col col-20">
		  			<a class="center">
		  				<md-checkbox ng-model="FoodRushTime" class="no-border" ng-true-value="45"></md-checkbox>
		  			</a>
		  			<h5 class="border-less center"> 45 {{ 'min' | translate }} &nbsp &nbsp  </h5>
		  		</div>
	  	</div>
	  	<div class="center">
			<md-button class="md-raised md-primary" on-tap="onConfirmOrderTouch()">
				{{ 'confirmOrder' | translate }}
			</md-button>
		</div>

	</ion-content>
<!-- - - - - - - - - - - -  END CART NOT EMPTY :  - - - - - - - - - - - - -->



<!-- - - - - - - - - - - -  CART EMPTY :  - - - - - - - - - - - - -->
	<ion-content has-header="true" ng-show="isCartEmpty">
		<ion-list>
	  		<ion-item>
				<div class="border-less center">
		  			<b> {{'emptyCart' | translate}} </b>
				</div>
	  		</ion-item>
	  	</ion-list>
	</ion-content>
<!-- - - - - - - - - - - -  END CART EMPTY :  - - - - - - - - - - - - -->


	<ion-footer-bar class="bar-energized ">
	 	<div class="row border-less">
	  		<div class="col col-25">
				<i class="icon ion-ios7-cart-outline right-footer-bar-icon"></i>  {{ cart.cartTotalPrice | number : 2}}€
			</div>
			<div class="col col-25">
         		<ng-pluralize count="cart.cartTotalQuantity" when="{'0': ' 0 Pizza', '1': ' 1 Pizza', 'other': '{{ cart.cartTotalQuantity }} Pizzas'}" ></ng-pluralize>
        	</div>
        	<div ng-show="currentOrder.groupOrderId" class="col col-10">
          		{{ currentOrder.currentDiscount }} %
        	</div>
        	<div ng-show="currentOrder.groupOrderId" class="col">
          		{{ cart.cartTotalPrice/((100-currentOrder.currentDiscount)/100) - cart.cartTotalPrice | number : 2}}€ économisés grâce à GroupEat
        	</div>
		</div>
	</ion-footer-bar>

</ion-view>
