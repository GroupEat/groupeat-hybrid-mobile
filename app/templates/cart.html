<ion-view ng-controller="CartCtrl" title="{{ 'yourCart' | translate }}">

<!-- - - - - - - - - - - -  CART NOT EMPTY :  - - - - - - - - - - - - -->

	<ion-nav-buttons side="right">
    	<button ng-hide="isCartEmpty" class="button button-clear ion-ios7-checkmark-empty right-header-bar-icon" on-tap="debug()">
    	</button>
  	</ion-nav-buttons>

	<ion-content has-header="true" ng-hide="isCartEmpty">

	  	<ion-list>

	  		<div class="item item-divider">
	  			<div class="row border-less">
			  			<div class="col col-80 center">
			  				<b>{{ 'Description' | translate }}</b>
			  			</div>
			  			<div class="col col-20">
			  				{{ 'Price' | translate }}
			  			</div>
			  			<div class="col col-10">
			  			</div>
				</div>
  			</div>

  			<div ng-repeat="product in cart.productsItems">
		  		<ion-item>
		  			<div class="row border-less">
				  			<div class="col col-80 border-less">
				  				<b>{{ product.name }}</b>
				  				<p ng-show="formats.quantity" ng-repeat="formats in product.formats" class="border-less">{{ formats.quantity }} {{ formats.name }}
				  				 </p>
				  			</div>

				  			<div class="col col-10">
				  				{{ product.totalPrice | number : 2}}€
				  			</div>
				  			<div class="col col-10">
				  			</div>
					</div>

				</ion-item>
	        </div>
		</ion-list>

		<ion-list>
	  		<ion-item>
	  			<div class="center">
		  			<b>{{ 'Total' | translate }} :&nbsp</b> <ng-pluralize count="cart.cartTotalQuantity" when="{'0': ' 0 Pizza', '1': ' 1 Pizza', 'other': '{{ cart.cartTotalQuantity }} Pizzas'}" ></ng-pluralize>, {{ cart.cartTotalPrice | number : 2}}€.  <a ng-show="currentOrder.groupOrderId">&nbsp Au lieu de {{ cart.cartTotalPrice/((100-currentOrder.currentDiscount)/100) | number : 2}} € </a>
				</div>
	  		</ion-item>
	  	</ion-list>

	  	<h5 ng-hide="currentOrder.groupOrderId" class="login-text-first-page add-horizontal-margin no-bottom-margin">
	  	 {{ 'howLongFoodRush' | translate }} <a class="energized">Food</a><a class="assertive">Rush</a> ?
	  	</h5>

	  	<div ng-hide="currentOrder.groupOrderId" layout="row" layout-wrap>
	  		<md-radio-group flex="20" ng-model="FoodRushTime.value" ng-repeat="d in FoodRushTimeData">
        			<md-radio-button ng-value="d.value" class="center">
        			</md-radio-button>
        			<a class="center"> {{ d.label }} &nbsp &nbsp </a>
        		</md-radio-group>
        </div>
        

	  	<div class="center">
			<md-button class="md-raised md-primary" on-tap="onConfirmOrderTouch($event)">
				{{ 'confirmOrder' | translate }}
			</md-button>
		</div>

	</ion-content>
<!-- - - - - - - - - - - -  END CART NOT EMPTY :  - - - - - - - - - - - - -->



<!-- - - - - - - - - - - -  CART EMPTY :  - - - - - - - - - - - - -->
	<ion-content has-header="true" ng-show="isCartEmpty">
		<ion-list>
	  		<ion-item>
				<div class="border-less center">
		  			<b> {{'emptyCart' | translate}} </b>
				</div>
	  		</ion-item>
	  	</ion-list>
	</ion-content>
<!-- - - - - - - - - - - -  END CART EMPTY :  - - - - - - - - - - - - -->


	<ion-footer-bar class="bar-energized ">
	 	<div class="row border-less">
	  		<div class="col col-25">
				<i class="icon ion-ios7-cart-outline right-footer-bar-icon"></i>  {{ cart.cartTotalPrice | number : 2}}€
			</div>
			<div class="col col-25">
         		<ng-pluralize count="cart.cartTotalQuantity" when="{'0': ' 0 Pizza', '1': ' 1 Pizza', 'other': '{{ cart.cartTotalQuantity }} Pizzas'}" ></ng-pluralize>
        	</div>
        	<div ng-show="currentOrder.groupOrderId" class="col col-10">
          		{{ currentOrder.currentDiscount }} %
        	</div>
        	<div ng-show="currentOrder.groupOrderId" class="col">
          		{{ cart.cartTotalPrice/((100-currentOrder.currentDiscount)/100) - cart.cartTotalPrice | number : 2}}€ économisés grâce à GroupEat
        	</div>
		</div>
	</ion-footer-bar>

</ion-view>
